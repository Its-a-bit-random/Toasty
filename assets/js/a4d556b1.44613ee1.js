"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5331],{62914:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"Guide/Networking","title":"Networking","description":"Lets have a look at setting up networking. Toasty\'s networking system is currently bundled with Toasty, however in the future it may be placed in a seperate package to allow users to use a different networking solution.","source":"@site/docs/Guide/Networking.md","sourceDirName":"Guide","slug":"/Guide/Networking","permalink":"/Toasty/docs/Guide/Networking","draft":false,"unlisted":false,"editUrl":"https://github.com/Its-a-bit-random/Toasty/edit/main/docs/Guide/Networking.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"defaultSidebar","previous":{"title":"Lifecycle","permalink":"/Toasty/docs/Guide/Lifecycle"},"next":{"title":"Configuration","permalink":"/Toasty/docs/Guide/Config"}}');var r=n(74848),s=n(28453);const i={sidebar_position:5},a="Networking",l={},c=[{value:"Benefits",id:"benefits",level:2},{value:"Setting up",id:"setting-up",level:2}];function d(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"networking",children:"Networking"})}),"\n",(0,r.jsx)(t.p,{children:"Lets have a look at setting up networking. Toasty's networking system is currently bundled with Toasty, however in the future it may be placed in a seperate package to allow users to use a different networking solution."}),"\n",(0,r.jsx)(t.h2,{id:"benefits",children:"Benefits"}),"\n",(0,r.jsxs)(t.p,{children:["Toasty's networking comes with a couple of features that native ",(0,r.jsx)(t.code,{children:"RemoteEvent"})," and ",(0,r.jsx)(t.code,{children:"RemoteFunction"}),"s just don't have. Here is a list of all features that Toasty brings to networking:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"RemoteFunction"}),"s emulated using ",(0,r.jsx)(t.code,{children:"RemoteEvent"}),"s","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Allows for Unreliable ",(0,r.jsx)(t.code,{children:"RemoteFunction"})," since ROBLOX doesn't have those"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Calling ",(0,r.jsx)(t.code,{children:"RemoteFunction"}),"s returns a promise instead of blocking"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"setting-up",children:"Setting up"}),"\n",(0,r.jsxs)(t.p,{children:["To get started you need to create a module script which describes the structure of your networking. This should be placed somewhere in ",(0,r.jsx)(t.code,{children:"ReplicatedStorage"})," to allow both the Server and Client to access it."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-lua",children:"-- ReplicatedStorage/Network.luau\r\nlocal Toasty = require(path.to.Toasty)\r\nlocal Net = Toasty.Networking -- Shorthand; not required\r\n\r\nreturn {\r\n\tMyEvent = Net.Event();\r\n\r\n\tNestedStuff = {\r\n\t\tNestedFunction = Net.Function();\r\n\t}\r\n}\n"})}),"\n",(0,r.jsx)(t.p,{children:"We now need to tell toasty to actually create these events and setup everything for them. Lets go back to out Loader script:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-lua",children:"-- Require --\r\nlocal Toasty = require(path.to.toasty)\r\n\r\n-- Config --\r\n--[[\r\n\tThis is where configs like Feature Flags will go\r\n]]\r\n\r\n-- Networking --\r\nToasty.Networking.Setup(path.to.Network) -- This should be the actual ModuleScript!\r\n\r\n-- Loading --\r\n-- Now we can load our actual modules\r\nToasty.Bootstrap.LoadSingletonModules(script.Parent.Services, true)\r\n--[[\r\n\tWhen using LoadSingletonModules, Toasty automatically handles creating and registering\r\n\tsingletons. This means all your modules should return singletons, if not, please\r\n\trestrucutre or call Toasty.Service or Toasty.Controller in every module. Before\r\n\treturning\r\n]]\r\n\r\n-- Toast --\r\n-- Toasting is the same as calling Knit.Start(). It kicks off all singleton's OnStart and OnInit lifecycles (more info on that later)\r\nToasty.Bootstrap.Toast()\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Now our networking is setup and ready. This should be done ",(0,r.jsx)(t.em,{children:"before"})," loading singletons and ",(0,r.jsx)(t.em,{children:"after"})," setting config flags (explained next page)."]}),"\n",(0,r.jsx)(t.p,{children:"Using this networking module is self explanitory so I wont go into it here. However you can refer to the API docs to get the specifics. However here are some key things to keep in mind."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["The events/functions have a ",(0,r.jsx)(t.code,{children:".Client"})," and ",(0,r.jsx)(t.code,{children:".Server"})," API, you need to use the correct API depending on where you are using the event from. E.g. on the server use the ",(0,r.jsx)(t.code,{children:".Server"})," API and on the client use the ",(0,r.jsx)(t.code,{children:".Client"})," API"]}),"\n",(0,r.jsxs)(t.li,{children:["The server cannot fire ",(0,r.jsx)(t.code,{children:"RemoteFunction"}),"s, I wont go into details here but the server should never get information from the cient becaues the server should ",(0,r.jsx)(t.strong,{children:"never"})," trust from the client."]}),"\n",(0,r.jsxs)(t.li,{children:["The first argument when setting callbacks or firing remote functions is a table of type check functions to runtime-type-check networking, you can pass t.* into here or you can use ",(0,r.jsx)(t.code,{children:"Toasty.Networking.Args.*"})]}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var o=n(96540);const r={},s=o.createContext(r);function i(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);